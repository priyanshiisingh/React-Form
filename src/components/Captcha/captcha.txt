CAPTCHABE.TSX

require("dotenv").config();
import axios from "axios";
var req: any;

// Extract token
const { formData, captchaToken } = req.body;
const key = process.env.YOUR_PRIVATE_KEY;

// Call Google's API to get score
const res = async () => {
  await axios.post(
    `https://www.google.com/recaptcha/api/siteverify?secret=${key}&response=${captchaToken}`
  );
};

// Extract result from the API response
if (res.data.success) console.log("Human");
else console.log("BOT!!!");


CAPTCHAindex.TSX
import React, { useRef } from "react";
import ReCaptchaV2 from "react-google-recaptcha";
require("dotenv").config();
import axios from "axios";

const YourComponent = () => {
  const recaptchaRef = useRef(null);
  const key = process.env.YOUR_SITE_KEY;

  const handleSubmit = async () => {
    null;
    const captchaToken = await recaptchaRef.current.getValue();
    recaptchaRef.current.reset();

    // Pass this token to your server for validation...

    // Sample
  };

  return (
    <div>
      <form onSubmit={handleSubmit}>
        <ReCaptchaV2 ref={recaptchaRef} sitekey={key} />
      </form>
    </div>
  );
};
